/*!
 * CBE tracking
 *
 * JavaScript tracking client
 *
 * @link http://capturehighered.com
 */
!function(){"use strict";var e=1.1,t="_cbe",n=navigator,i=window,a=document,o="type",r=["trackingId","siteId","userId","cookieDomain"],s={pageview:["page","title"],form:["form","formTitle","formPage","page","title"],link:["linkTitle","linkPage","page","title"],event:["category","action","label","page","title"]},l=function(e,t,n,i){t=_(t)?t:{},t.error=e||"",t.method=n||"",t.cbe="error",_(e)&&v(e.message)&&(t.error=e.message),L({url:i,data:t})},d=function(e,t,n){t[e]=function(){try{return n.apply(this,arguments)}catch(e){}}},c=function(e,t){if(1==t.length&&null!==t[0]&&"object"==typeof t[0]&&!F.isNode(t[0]))return t[0];for(var n={},i=Math.min(e.length+1,t.length),a=0;a<i;a++)a<e.length&&(n[e[a]]=t[a]);return n},u=function(e){var t=[];for(var n in e)_(e[n])&&e[n]?t.push(i.encodeURIComponent(n)+"="+i.encodeURIComponent(h(e[n]))):e.hasOwnProperty(n)&&e[n]&&""!==e[n]&&t.push(i.encodeURIComponent(n)+"="+i.encodeURIComponent(e[n]));return t.join("&")},h=function(e){return"undefined"!=typeof JSON?JSON.stringify(e):null},p=function(e){var t,n,i,a,o,r=!0,s={};if(e.length&&e.elements){o=e.elements;for(var l=0;l<o.length;l++){a=o[l].getAttribute("data-validate"),i=H(o[l]),t='"'+o[l].name+'"',n=o[l].type;var d;if("checkbox"===n||"radio"===n||"SELECT"===o[l].nodeName&&o[l].multiple){if(("required"===a||o[l].getAttribute("required"))&&!i.length){r=!1,s[t]=t+" is required";continue}}else if("required"===a||o[l].getAttribute("required")){if(!i){r=!1,s[t]=t+" is required";continue}}else if("email"===a||"email"===n){if(d=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,!d.test(i)){r=!1,s[t]=t+" field must be a valid email address.";continue}}else if("max-min"===a){var c=o[l].getAttribute("data-max"),u=o[l].getAttribute("data-min");if(d=/^[0-9]*$/,!i){r=!1,s[t]=t+" is required";continue}if(!d.test(i)){r=!1,s[t]=t+" field must be a number.";continue}var h=parseInt(i);if(h<u||h>c){r=!1,s[t]=t+" field must be between "+u+" and "+c;continue}}}}return!!r||s},f=function(e,t){for(var n in t)e[n]=t[n];return e},m=function(e){return"prerender"!=a.visibilityState&&(e(),!0)},g=function(e){var t,n=T(i.location.href.toLowerCase());if(e===n)return!0;if("."===n.slice(0,1)){if(e===n.slice(1))return!0;if(t=e.length-n.length,t>0&&e.slice(t)===n)return!0}return!1},y=function(e){return"undefined"!=typeof e},v=function(e){return void 0!=e&&-1<(e.constructor+"").indexOf("String")},b=function(e){return"function"==typeof e},_=function(e){return"object"==typeof e},k=function(e){return"[object Array]"==Object.prototype.toString.call(Object(e))},x=function(e){return e=C(e),e=e.protocol+"//"+e.host},C=function(e){var t=a.createElement("a");return t.href=e,t.hostname||(t.href=i.location.protocol+"//"+i.location.hostname+e),{pathname:I(t.pathname),hostname:t.hostname,protocol:t.protocol,host:t.host,hash:t.hash,href:t.href,port:t.port,search:t.search}},w=function(){var e,t,n=a.referrer;return/^https?:\/\//i.test(n)?(t="//"+a.location.hostname,e=n.indexOf(t),5!==e&&6!==e||(t=n.charAt(e+t.length),"/"!==t&&"?"!==t&&""!==t&&":"!==t)?n:null):null},T=function(e){var t=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)"),n=t.exec(e);return n?n[1]:e},E=function(e){var t=e.length;return"."===e.charAt(--t)&&(e=e.slice(0,t)),"*."===e.slice(0,2)&&(e=e.slice(1)),e},A=function(e){var t=E(e).split(".");"www"===t[0]&&t.shift();for(var n=t.length-1;n>=0;n--)t.length>2&&t.shift();return e="."+t.join(".")},I=function(e){return"/"!==e&&"/"===e.substr(-1)&&(e=e.substr(0,e.length-1)),"/"!==e&&"/"!==e.charAt(0)&&(e="/"+e),e},S=function(e){var t,n=!1;if(y(e)||(e=a.location.search),v(e)&&""!==e){var i=e.substring(1).split("&");n={};for(var o=0;o<i.length;o++)t=i[o].split("="),v(t[0])&&(v(t[1])?n[t[0].toLowerCase()]=t[1]:n[t[0].toLowerCase()]="")}return n},D=function(){var e=a.body,t=a.documentElement,n=e&&e.clientWidth&&e.clientHeight,i=[];return t&&t.clientWidth&&t.clientHeight&&("CSS1Compat"===a.compatMode||!n)?i=[t.clientWidth,t.clientHeight]:n&&(i=[e.clientWidth,e.clientHeight]),(t=0>=i[0]||0>=i[1])?"":i.join("x")},H=function(e){var t,n,a=null;if(!e||!e.getAttribute("name"))return a;switch(e.nodeName){case"INPUT":if("radio"===e.type||"checkbox"===e.type){n=F.find('[name="'+e.getAttribute("name")+'"]',e.form),a=[];for(var o=0;o<n.length;o++)y(n[o])&&n[o].checked&&a.push(i.encodeURIComponent(n[o].value))}else a=e.value;break;case"SELECT":if(e.multiple)for(a=[],t=0;t<e.length;t++)y(e[t])&&e[t].selected&&a.push(i.encodeURIComponent(e[t].value));else a=e.value;break;case"TEXTAREA":a=e.value}return a},N=function(e){var t,n,i,a,o,r={};if(y(e))for(var s=e.length-1;s>=0;s--)o=e[s],y(o.name)&&o.name&&(t=o.type?o.type:null,n=o.getAttribute("data-tracked"),t.match(/^(submit|button|reset|file|image|password|hidden)$/)&&!n||(a=H(o),i=o.name,k(a)?r[i]=a.join(","):v(a)&&(r[i]=a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))));return r},L=function(e){var t=null;return _(e)&&e.url&&(e.type&&"GET"!==e.type?t=j.ajax(e):e.dataType&&"json"===e.dataType?t=j.ajax(e):e.dataType&&"jsonp"===e.dataType?j.script(e):j.image(e)),t},M={enabled:function(){return y(n.cookieEnabled)?!!n.cookieEnabled:(this.set("testcookie","1"),"1"===this.get("testcookie"))},set:function(e,t,n,o,r,s){var l;n&&(l=new Date,l.setTime(l.getTime()+n)),a.cookie=e+"="+i.encodeURIComponent(t)+(n?";expires="+l.toGMTString():"")+";path="+(o||"/")+(r?";domain="+r:"")+(s?";secure":"")},get:function(e){var t=[],n=a.cookie.split(";");e=new RegExp("^\\s*"+e+"=\\s*(.*?)\\s*$");for(var i=0;i<n.length;i++){var o=n[i].match(e);o&&t.push(o[1])}return!!t.length&&t[0]},destroy:function(e,t,n){this.set(e,"",-86400,t,n)}},R={bind:function(e,t,n,i){var a=t.split(" ");k(e)||(e=[e]);for(var o=e.length-1;o>=0;o--)for(var r=a.length-1;r>=0;r--)e[o].addEventListener?e[o].addEventListener(a[r],n,i):e[o].attachEvent?e[o].attachEvent("on"+a[r],n):e[o]["on"+a[r]]=n},unbind:function(e,t,n,i){var a=t.split(" ");k(e)||(e=[e]);for(var o=e.length-1;o>=0;o--)for(var r=a.length-1;r>=0;r--)F.isNode(e[o])&&(e[o].removeEventListener?e[o].removeEventListener(a[r],n,i):e[o].detachEvent?e[o].detachEvent("on"+a[r],n):e[o]["on"+a[r]]=null)},onReady:function(e){if("interactive"===a.readyState||"complete"===a.readyState)e.call(this);else{var t=function(){R.unbind(document,"DOMContentLoaded",t),e.call(this)};R.bind(document,"DOMContentLoaded",t)}}},j={script:function(e){if(e=f({url:null,data:null},e),e.url&&e.data){var t=!1,n=a.createElement("script"),i=a.getElementsByTagName("head")[0]||a.documentElement;e.data.t="js",n.type="text/javascript",n.src=e.url+(e.url.indexOf("?")<0?"?":"&")+u(e.data),n.onerror=b(e.error)?e.error:function(){},n.onload=n.onreadystatechange=function(a){t||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(t=!0,b(e.success)&&e.success(),n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n))},i.insertBefore(n,i.firstChild)}},image:function(e){if(e=f({url:null,data:null},e),e.url&&e.data){var t=new Image(1,1);e.data.t="img",t.src=e.url+(e.url.indexOf("?")<0?"?":"&")+u(e.data),t.onload=b(e.success)?e.success:function(){},t.onerror=b(e.error)?e.error:function(){}}},ajax:function(e){var t=!1,n=i.XMLHttpRequest?new i.XMLHttpRequest:i.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null;if(e=f({data:"",type:"GET",url:null},e),e.data.t="ajax",e.data=u(e.data),i.XDomainRequest?(t=!0,n=new i.XDomainRequest):i.ActiveXObject&&(n=null),n)return t?("GET"===e.type?n.open(e.type,e.url+"?"+e.data):n.open(e.type,e.url),n.onload=function(){y(n.responseText)&&b(e.success)&&e.success(n.responseText)}):("GET"===e.type?n.open(e.type,e.url+"?"+e.data,!0):(n.open(e.type,e.url,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),n.onreadystatechange=function(){4==n.readyState&&200==n.status&&b(e.success)&&e.success(n.response)}),n.onerror=function(){b(e.error)&&(y(n.responseText)?e.error(n.responseText,n):e.error(null,n))},n.setRequestHeader("X-API-KEY","1"),n.send(e.data),n}},F={isNode:function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},nodeCollectionToArray:function(e){var t,n=[];if(!e||!e.length)return n;for(t=0;t<e.length;t++)n.push(e[t]);return n},setDomStyles:function(e,t){if(_(t))for(var n in t)e.style[n]=t[n];return e},setStyleBlock:function(e,t){var n=a.createElement("style");t=t||a.head||a.getElementsByTagName("head")[0],n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)},find:function(e,t){var n,i,o,r=_(t)?t:document,s=0,l=[],d=[],c=0;e=e.split(",");for(var u=0;u<e.length;u++)if(i=e[u].replace(/^\s+|\s+$/g,"").replace(/\\"/g,'"'),c=i.split(" ").length,"#"===i.substring(0,1)&&1===c)i=i.slice(1,i.length),o=a.getElementById(i),o&&(d=d.concat(o));else if(y(r.querySelectorAll))o=r.querySelectorAll(i),o&&(d=d.concat(this.nodeCollectionToArray(o)));else if(l=r.all,"."===i.substring(0,1))if(i=i.slice(1,i.length),y(r.getElementsByClassName))o=r.getElementsByClassName(i),o&&(d=d.concat(this.nodeCollectionToArray(o)));else for(n=new RegExp("(^|\\s)"+i+"(\\s|$)"),s=0;s<l.length;s++)o=l[s],o&&n.test(o.className)&&d.push(o);else if("["===i.substring(0,1)&&"]"===i.substring(i.length-1,i.length))for(i=i.slice(1,i.length),i=i.substring(0,i.length-1),l=r.getElementsByTagName("*"),s=0;s<l.length;s++)o=l[s],o&&null!==o.getAttribute(i)&&d.push(o);else o=r.getElementsByTagName(i),o&&(d=d.concat(this.nodeCollectionToArray(o)));return d}},P=function(e,t,n,i,a){this.contentTimer=null,this.served=[],this.content_tracked=!1,this.site_id=t,this.url=n,this.full_url=this.url+"/cbe/track",this.full_content_url=this.url+"/cbe/content",this.full_image_url=this.url+"/media/",this.callback=a,this.data=i,this.data.cbe="content",this.getDynamicContent()};P.prototype={handleErrors:function(e,t){l(e,this.data,t,this.full_url)},getDynamicContent:function(){var e=this;this.full_content_url&&!this.content_tracked&&setTimeout(function(){L({url:e.full_content_url,dataType:"jsonp",data:e.data})},20)},processDynamicContent:function(e){try{_(e)&&e.length&&(this.handleContent(e),this.content_tracked=!0)}catch(t){this.handleErrors(t,"processDynamicContent")}},afterContentDisplayed:function(e){this.callback&&this.callback.call(this,e)},afterContentInteraction:function(e){if(this.served&&this.served.length){var t=this.data;t.cid=this.served.join(","),t.cbe=e?e:"content",L({url:this.full_url,data:t})}},displayPopup:function(e,t,n){var o=(a.body.clientWidth,a.body.style.overflow);e=e?e:"65%";var r=a.createElement("div"),s=a.createElement("div"),l=a.createElement("div"),d=a.createElement("div"),c=a.createElement("div"),u=a.createElement("div"),h=a.createElement("span");r.setAttribute("id","_cap_popup"),r.className+=" _cap_popup",a.body.style.overflow="hidden",h.innerHTML="&times;",u.appendChild(h),F.setStyleBlock(["#_cap_popup h1, #_cap_popup h2{color: #4d4d4d; padding: 0; margin: 0 0 15px 0;}","#_cap_popup div{text-align: left; color: #4d4d4d;}","#_cap_popup ul{list-style: none;}","#_cap_popup ul li{margin: 0; padding: 0; background: none;}","#_cap_popup ul li:before{display: none;}"].join(""),r),F.setDomStyles(r,{zIndex:"999999996",position:"fixed",overflow:"auto",height:"100%",width:"100%",left:"0",top:"0"}),F.setDomStyles(s,{filter:"alpha(opacity=85)",background:"#000",position:"fixed",height:"100%",opacity:".85",width:"100%",bottom:"0",zIndex:"1",right:"0",left:"0",top:"0"}),F.setDomStyles(l,{position:"absolute",width:"100%",zIndex:"2",top:"0"}),F.setDomStyles(d,{marginRight:"auto",marginLeft:"auto",minWidth:"225px",maxWidth:e,width:"100%"}),F.setDomStyles(u,{position:"absolute",zIndex:"999999997","float":"right",right:"0",top:"0"}),F.setDomStyles(h,{fontFamily:"Helvetica Neue,Helvetica,Arial,sans-serif",textShadow:"0 1px 0 #4d4d4d",textAlign:"center",fontWeight:"bold",cursor:"pointer",lineHeight:"1em",marginTop:"-2px",color:"#fafafa",fontSize:"38px",display:"block",padding:"15px"}),t?(F.setDomStyles(u,{borderBottom:"1px solid #e5e5e5",width:"100%"}),F.setDomStyles(h,{padding:"5px 10px",color:"#4d4d4d",fontSize:"25px","float":"right"}),F.setDomStyles(c,{boxShadow:"0 5px 15px 1px rgba(0,0,0,.5)",padding:"55px 25px 25px 25px",backgroundColor:"#ffffff",position:"relative",marginBottom:"30px",borderRadius:"2px",overflow:"hidden",marginTop:"30px"}),c.appendChild(u)):r.appendChild(u),r.appendChild(s),d.appendChild(c),l.appendChild(d),r.appendChild(l),a.body.appendChild(r),"function"==typeof n&&n.call(this,r,c,s);var p=function(e){i.innerHeight<=l.clientHeight?l.style.marginTop=0:l.style.marginTop=(i.innerHeight-l.clientHeight)/2+"px"},f=function(e){a.body.style.overflow=o,a.body.removeChild(r),R.unbind([window],"resize",p),R.unbind([window],"keydown",m),R.unbind([a],"click",f)},m=function(e){27===e.keyCode&&f(e)};R.bind([window],"resize",p),R.bind([a],"keydown",m),R.bind([h],"click",f),p()},displayToaster:function(e,t,n,i){var o=a.createElement("div"),r=a.createElement("div"),s=a.createElement("div"),l=a.createElement("div"),d=a.createElement("span"),c=!1;d.innerHTML="&times;",F.setDomStyles(o,{transition:"all .5s ease",visibility:"hidden",zIndex:"999999995",textAlign:"center",position:"fixed",padding:"0 10px",margin:"0 auto",display:"block",maxWidth:"60%",height:"60%"}),F.setDomStyles(r,{boxShadow:"rgba(0,0,0,.6) 0 0 6px 1px",display:"inline-block",background:"#fafafa",position:"relative",textAlign:"left",overflow:"auto",margin:"0 auto",maxWidth:"100%",height:"100%"}),F.setDomStyles(s,{borderBottom:"1px solid #eee",zIndex:"999999997",overflow:"hidden",padding:"10px"}),F.setDomStyles(d,{fontFamily:"Helvetica Neue,Helvetica,Arial,sans-serif",textAlign:"right",lineHeight:"18px",cursor:"pointer",marginTop:"-6px",fontSize:"32px",display:"block","float":"right",color:"#000"}),F.setDomStyles(l,{maxWidth:"100%",maxHidth:"100%",overflow:"auto",padding:"5px"}),n&&F.setDomStyles(o,{background:"rgba(0,0,0,.8)",overflow:"auto",height:"100%"}),"top_left"===i?(o.style.top=0,o.style.left=0):"top_right"===i?(o.style.top=0,o.style.right=0):"bottom_left"===i?(c=!0,o.style.bottom=0,o.style.left=0):"bottom_right"===i?(c=!0,o.style.bottom=0,o.style.right=0):"bottom_center"===i?(c=!0,o.style.bottom=0,o.style.left=0,o.style.right=0):(o.style.top=0,o.style.left=0,o.style.right=0),s.appendChild(d),r.appendChild(s),r.appendChild(l),o.appendChild(r),a.body.appendChild(o),"function"==typeof e&&e.call(this,o,l);var u=function(){o.style.visibility="visible",c?o.style.bottom=0:o.style.top=0},h=function(){clearTimeout(self.contentTimer),c?o.style.bottom="-"+(o.offsetHeight+10)+"px":o.style.top="-"+(o.offsetHeight+10)+"px",setTimeout(function(){a.body.removeChild(o)},500)},p=function(e){h(),clearTimeout(self.contentTimer),R.unbind(d,"click",p)};R.bind(d,"click",p),c?o.style.bottom="-"+(o.offsetHeight+10)+"px":o.style.top="-"+(o.offsetHeight+10)+"px",setTimeout(u,100),t&&(this.contentTimer=setTimeout(h,1e3*t))},handleContent:function(e){var t,n,i=this;R.onReady(function(){var a=!1;for(n=0;n<e.length;n++)if(t=y(e[n].type)?e[n].type:!!y(e[n].type)&&e[n].type)switch(t){case"embed":case"image_swap":i.handleEmbedded(e[n]);break;case"award_calculator":"undefined"!=typeof JSON&&i.handleEmbedded(e[n]);break;case"toaster":a||(a=!0,i.handleToaster(e[n]));break;case"popup":case"progressive_profiling":a||(a=!0,i.handleContentInterstitial(e[n]))}i.afterContentInteraction()})},handleContentInterstitial:function(e){var t=this;e.mobile&&e.content?e.content.mobile_upload||e.mobile_description||!e.content.path&&!e.content.filename?e.content.mobile_upload?this.displayToaster(function(n,i){i.innerHTML=['<div style="overflow: hidden; padding: 10px 0; font-size: 18px;">','<img style="display:inline-block; max-height: 100px; text-align: center; width: auto;" src="'+t.url+e.content.mobile_upload.path+'"',"</div>"].join(""),R.bind(i,"click",function(i){clearTimeout(t.contentTimer),a.body.removeChild(n),t.handlePopup(e)}),t.served.push(e.id)},!1,!1,e.content.mobile_location||!1):e.mobile_description&&this.displayToaster(function(n,i){i.innerHTML=['<div style="overflow: hidden; padding: 10px 0; font-size: 18px;">','<div style="font-size: 18px; color: #4d4d4d;">'+e.mobile_description+"</div>",'<div style="font-size: 12px; cursor: pointer;">Click to expand</div>',"</div>"].join(""),R.bind(i,"click",function(i){clearTimeout(t.contentTimer),a.body.removeChild(n),t.handlePopup(e)}),t.served.push(e.id)},!1,!1,e.content.mobile_location||!1):this.handleToaster(e):t.handlePopup(e)},handleContentForms:function(e,t,n){var i=this,o=!!e&&F.find("form",e);if(e&&o&&o.length){if(t&&t.content&&t.content.form_id&&(o[0].setAttribute("data-cbe-form-id",t.content.form_id),t.prefill))for(var r in t.prefill){var s=t.prefill[r],l=F.find('[name="'+r+'"]',o[0])[0];l&&(l.value=s)}var d=a.createElement("div"),c=function(t){try{var a=t.currentTarget,o="",r=p(a);if(t.preventDefault(),a.appendChild(d),r===!0)"function"==typeof n?n.call(this,t,e,r):(e.innerHTML="<h1>Thank you for your submission!</h1>",d.innerHTML="",R.unbind(e,"submit",c));else{for(var s in r)o+=r[s]+"<br/>";d.innerHTML='<p style="font-size: 16px; color: #a94442; background:#f2dede; border: 1px solid #ebccd1; margin: 0 0 15px 0; padding: 8px;">'+o+"</p>"}}catch(l){i.handleErrors(l,"handleContentForms")}};R.bind(o,"submit",c)}},handleContentClick:function(e,t){var n=this,i=function(a){var o=n.data;o.cbe="contentclick",o.cid=t.id,L({url:n.full_url,data:o}),R.unbind(e,"click",i)};R.bind(e,"click",i)},handleAwardCalculator:function(e,t){var n=this,a=F.find('[data-award-calculator="capcalc_year"]',e)[0],o=F.find('[data-award-calculator="capcalc_source_disabled"]',e),r=F.find('[data-award-calculator="capcalc_score"]',e)[0],s=F.find('[data-award-calculator="gpa_only"]',e)[0];if(t&&t.content&&t.content.form_id&&e.setAttribute("data-cbe-form-id",t.content.form_id),t.prefill)for(var l in t.prefill){var d=t.prefill[l],c=F.find('[name="'+l+'"]',e)[0];c&&(c.value=d)}this.handleAwardCalcualtorYearChange(a,o,r,s),1!=s.value&&this.handleAwardCalucatorScoreValidation(o,r,s),this.handleContentForms(e,t,function(e,t,a){try{var o,r,s,l,d=e.currentTarget,c=0;if(d&&a===!0){var u=F.find('[data-award-calculator="capcalc_source"]',d)[0],h=F.find('[data-award-calculator="capcalc_gpa"]',d)[0],p=F.find('[data-award-calculator="capcalc_score"]',d)[0];F.find('[data-award-calculator="gpa_only"]',d)[0];if(0!==u.selectedIndex){if(o=JSON.parse(i.decodeURIComponent(u.options[u.selectedIndex].getAttribute("data-award-calculator"))),p=Math.round(Number(parseInt(p.value))).toFixed(0),o="undefined"!=typeof o[(Math.round(4*Number(h.value))/4).toFixed(2)]?o[(Math.round(4*Number(h.value))/4).toFixed(2)]:"undefined"!=typeof o[(Math.round(2*Number(h.value))/2).toFixed(2)]&&o[(Math.round(2*Number(h.value))/2).toFixed(2)],o&&o.value){for(var f in o.value)(!l||parseInt(f)>=l)&&(l=parseInt(f)),(!s||parseInt(f)<=s)&&(s=parseInt(f));"undefined"!=typeof o.value[p]?c=o.value[p]:o.value[10*Math.ceil(Number(p)/10)]&&(c=o.value[10*Math.ceil(Number(p)/10)])}c=parseInt(c),d.elements.award&&(d.elements.award.setAttribute("data-tracked","true"),d.elements.award.value=c),c?(r="$ "+c.toLocaleString(),F.find('[data-award-calculator="capcalc_award_display"]',t)[0].innerHTML=r):(r="Contact Admissions for individual scholarship opportunities.",F.find('[data-award-calculator="capcalc_award_display"]',t)[0].style.display="block",F.find('[data-award-calculator="capcalc_award_display_no_award"]',t)[0].innerHTML=r),d.style.display="none",F.find('[data-award-calculator="capcalc_results"]',t)[0].style.display="block",n.afterContentInteraction("contentcomplete")}}}catch(m){n.handleErrors(m,"handleAwardCalculator")}})},handleAwardCalcualtorYearChange:function(e,t,n,i){var a=this;e.onchange=function(){for(var o=(this.value,0);o<t.length;o++){var r=t[o];r.style.display="none",r.disabled="true",r.name="source_disabled",r.setAttribute("data-award-calculator","capcalc_source_disabled"),r.removeAttribute("data-validate"),r.getAttribute("data-award-calculator-year")==e.value&&(r.style.display="block",r.disabled=!1,r.name="source",r.setAttribute("data-award-calculator","capcalc_source"),r.setAttribute("data-validate","required"))}a.handleAwardCalucatorScoreValidation(t,n,i)}},handleAwardCalucatorScoreValidation:function(e,t,n){for(var i=this,a=0;a<e.length;a++){var o=e[a];i.handleAwardCalculatorSourceChange(o,t,n)}},handleAwardCalculatorSourceChange:function(e,t,n){if(1==n.value){if(e.selectedIndex=1,t.removeAttribute("data-validate"),"capcalc_source_disabled"!=e.getAttribute("data-award-calculator")){var a=JSON.parse(i.decodeURIComponent(e.options[e.selectedIndex].getAttribute("data-award-calculator")));if(a){var o;for(var r in a)for(var s in a[r].value)(!o||parseInt(s)<=o)&&(o=parseInt(s));void 0!=o?t.value=o:t.value=0}else t.value=0}}else e.selectedIndex=0;e.onchange=function(){var e=JSON.parse(i.decodeURIComponent(this.options[this.selectedIndex].getAttribute("data-award-calculator")));if(e){var n,a;for(var o in e)for(var r in e[o].value)(!n||parseInt(r)>=n)&&(n=parseInt(r)),(!a||parseInt(r)<=a)&&(a=parseInt(r));t.setAttribute("data-max",n),t.setAttribute("data-min",a)}}},handleEmbedded:function(e){try{var t,n,i,o=this,r=[],s=[],l=_(e.content)&&v(e.content.type)?e.content.type:e.type,d=!(!_(e.content)||!v(e.content.location))&&e.content.location,c=!(!_(e.content)||!v(e.content.identifier))&&e.content.identifier,h=!(!_(e.content)||!v(e.content.body))&&e.content.body,p=!!c&&F.find(c),f=C(e.content.links_to),m=S(f.search);if(!p||!p.length||!l)return;m=m?m:{},m.cid=e.id,o.data.hid&&(m.tid=o.data.hid);for(var g=function(e,t,n){t.innerHTML="<h1>Thank you for your submission!</h1>",o.afterContentInteraction("contentcomplete")},y=p.length-1;y>=0;y--)"undefined"!=typeof e.content&&"undefined"!=typeof p[y].nodeName&&("image_swap"===l||"image"===l?(i=a.createElement("a"),i.style.display="block",i.target=1==e.content.external_site?"_blank":"",i.href=f.protocol+"//"+f.hostname+f.pathname+"?"+u(m)+f.hash,i.className+=" _cap_embed","IMG"===p[y].nodeName?(t=p[y].parentNode,n=p[y].cloneNode(),n.removeAttribute("srcset")):(t=p[y],n=a.createElement("img")),n.src=e.content.path?o.url+e.content.path:o.full_image_url+e.content.filename,n.alt="undefined"!=typeof e.content.alt_text?e.content.alt_text:e.description,s.push(n),i.appendChild(n),r.push(i)):(t=p[y],i=a.createElement("div"),i.className+=" _cap_embed",i.innerHTML=h,"award_calculator"===e.type?o.handleAwardCalculator(i,e):o.handleContentForms(i,e,g),F.setStyleBlock(["._cap_embed h1, ._cap_embed h2{color: #4d4d4d; padding: 0; margin: 0 0 15px 0;}","._cap_embed div{text-align: left; color: #4d4d4d;}","._cap_embed ul{list-style: none;}","._cap_embed ul li{margin: 0; padding: 0; background: none;}","._cap_embed ul li:before{display: none;}"].join(""),t)),"before"===d?t.parentNode.insertBefore(i,t):"after"===d?t.parentNode.insertBefore(i,t.nextSibling):"inside_top"===d&&t.firstChild?t.insertBefore(i,t.firstChild):"inside_bottom"===d?t.insertBefore(i,t.lastChild):(t.innerHTML="",t.appendChild(i)),this.served.push(e.id));if(s&&s.length){var b=function(){o.afterContentDisplayed(e),R.unbind(s,"load",b)};R.bind(s,"load",b)}else o.afterContentDisplayed(e);o.handleContentClick(r,e)}catch(k){this.handleErrors(k,"handleEmbedded")}},handleToaster:function(e,t){try{var n,o,r,s=e.mobile?i.innerHeight/4:i.innerHeight/2,l=this,d=[];if(a.body&&e.content){if(o=C(e.content.links_to),r=S(o.search),r=r?r:{},r.cid=e.id,l.data.hid&&(r.tid=l.data.hid),"progressive_profiling"===e.type||"html"===e.content.type||"form"===e.content.type)this.displayToaster(function(t,n){var i=a.createElement("div");i.innerHTML=e.content.body,n.appendChild(i),l.handleContentForms(i,e,function(e,n,i){i===!0&&(a.body.style.overflow=bodyOverflow,a.body.removeChild(t),l.afterContentInteraction("contentcomplete"))}),l.handleContentClick(F.find("a",i),e),l.afterContentDisplayed(e)},n,!1,e.content.location||"bottom_right");else{var c=new Image;c.src=e.content.url?e.content.url:l.full_image_url+e.content.filename,c.alt=y(e.content.alt_text)?e.content.alt_text:"",R.bind(c,"load",function(i){l.displayToaster(function(n,i){var h=a.createElement("a");h.target=1==e.content.external_site?"_blank":"",h.href=o.protocol+"//"+o.hostname+o.pathname+"?"+u(r)+o.hash,d.push(h),F.setDomStyles(n,{maxHeight:"60%",maxWidth:"60%",height:"auto",width:"auto"}),F.setDomStyles(h,{textAlign:"center",display:"block",overflow:"auto"}),F.setDomStyles(c,{maxHeight:s+"px",textAlign:"center",display:"inline",width:"auto"}),h.appendChild(c),i.appendChild(h),"function"==typeof t&&t.call(this,n,i),l.afterContentDisplayed(e)},n,!1,e.content.location||"bottom_right"),l.handleContentClick(d,e)})}this.served.push(e.id)}}catch(h){this.handleErrors(h,"handleToaster")}},handlePopup:function(e){try{var t=this,n=a.body.style.overflow;if(a.body&&e.content){var i=e.content.width?e.content.width:"65%",o=C(e.content.links_to),r=S(o.search),s=!0;r=r?r:{},r.cid=e.id,t.data.hid&&(r.tid=t.data.hid);var l=function(i,s,l){if("progressive_profiling"===e.type||"html"===e.content.type||"form"===e.content.type){var d=a.createElement("div");d.innerHTML=e.content.body,s.appendChild(d),t.handleContentForms(d,e,function(e,o,r){r===!0&&(a.body.style.overflow=n,a.body.removeChild(i),t.afterContentInteraction("contentcomplete"))}),t.handleContentClick(F.find("a",d),e),t.afterContentDisplayed(e)}else{var h=a.createElement("a");h.target=1==e.content.external_site?"_blank":"",h.href=o.protocol+"//"+o.hostname+o.pathname+"?"+u(r)+o.hash,h.appendChild(c),F.setDomStyles(h,{display:"block",textAlign:"center"}),F.setDomStyles(c,{display:"inline",maxWidth:"100%"}),s.appendChild(h),t.afterContentDisplayed(e),t.handleContentClick(h,e)}},d=function(){e.mobile?t.displayToaster(l,0,!0):t.displayPopup(i,s,l)};if(e.content.filename){var c=new Image;c.src=e.content.url?e.content.url:t.full_image_url+e.content.filename,c.alt=y(e.description)?e.description:"",s=!1,R.bind([c],"load",function(e){d()})}else d();this.served.push(e.id)}}catch(h){this.handleErrors(h,"handlePopup")}}};var q=function(e){this.name=e.name&&"d"!==e.name?e.name:null,this.data={},this.content=!1,this.tracked=!1,this.new_visitor=!0,this.new_session=!0,this.track_forms=!0,this.track_links=!0,this.referrer=w(),this.site_id=e.siteId,this.user_id=e.userId||null,this.client_id=e.trackingId||null,this.url=x(e.trackingUrl||e.trackingId),this.full_url=this.url+"/cbe/collect.php",this.cookie_path=e.cookiePath||"/",this.cookie_domain=e.cookieDomain||A(i.location.hostname),this.setProperties(),this.setVisitorId(),this.setProspectId(),this.setSessionId()};q.prototype={handleErrors:function(e,t){l(e,this.data,t,this.full_url)},set:function(e,t){t&&(this.data[e]=t)},setProperties:function(){var t=S(),o=i.screen,r=a.location,s=y(t.pid)?t.pid:null;M.get("_pool_id")&&(s=M.get("_pool_id")),this.set("v",e),this.set("n",this.name),this.set("cid",this.client_id),this.set("pr",this.referrer),this.set("pl",(n.language||n.browserLanguage||"").toLowerCase()),this.set("pe",r.characterSet||r.charset),this.set("ps",o.width+"x"+o.height),this.set("pv",D()),this.set("pc",o.colorDepth+"-bit"),this.set("uid",this.user_id),t&&(this.set("prid",t.prid),this.set("scid",t.scid),this.set("hid",t.hid),this.set("cid",t.cid),this.set("tid",t.tid),this.set("cbe_campaign",t.cbe_campaign),this.set("cbe_ts",t.cbe_ts)),s&&this.set("pid",s)},setVisitorId:function(e){var t=e||M.get("_capid");t&&(this.new_visitor=!1,this.data.vid=t,M.set("_capid",t,63072e6,this.cookie_path,this.cookie_domain))},setSessionId:function(e){var t=e||M.get("_capsess");t&&(this.new_session=!1,this.data.sessid=t,M.set("_capsess",t,9e5,this.cookie_path,this.cookie_domain))},setProspectId:function(e){var t=e||M.get("_capp")||this.data.prid;t&&(this.data.prid=t,M.set("_capp",i.encodeURIComponent(t),864e5,this.cookie_path,this.cookie_domain))},getProperties:function(e,t){var n=this.data||{},o=e.page||i.location;_(o)||(o=C(o)),n.po=o.protocol+"//"+o.hostname,n.pp=I(o.pathname),n.ph=o.hash,n.pq=o.search,n.pt=e.title||a.title,n.cbe=t,this.site_id&&(n.sid=this.site_id),F.cbe_test&&(n.is_test="1"),F.cbe_campaign&&(n.cbe_campaign=F.cbe_campaign),F.cbe_ts&&(n.cbe_ts=F.cbe_ts);for(var r in e)"linkPage"===r||"formPage"===r?n[r]=C(e[r]).href||e[r]:n[r]=e[r];return n},getContent:function(e){var t=this;this.content=new P(e,this.site_id,this.url,this.getProperties({},"content"),function(e){t.trackForms(!0)})},trackLinks:function(){var e=this,t=a.links;if(t&&this.track_links){var n=function(t){var n=t.target||t.srcElement,i=n.getAttribute("href"),a=n.hostname||T(n.href);g(a)&&i&&"#"!==i&&"#"===i.charAt(0)&&e.sendRequest("link",{linkPage:n.href,linkTitle:n.text})};R.unbind(t,"click",n),R.bind(t,"click",n)}},trackForms:function(e){var t=this,n=F.find("form");if(this.track_forms&&n&&n.length>0){this.formTimer=!1;var i=function(n){t.formTimer||(t.formTimer=setTimeout(function(){t.data.form_part=!0,e?p(n.target.form||n.srcElement.form)===!0&&t.sendFormData({form:n.target.form||n.srcElement.form}):t.sendFormData({form:n.target.form||n.srcElement.form})},5e3))},a=function(n){t.data.form_part="",e?p(n.target||n.srcElement)===!0&&t.sendFormData({form:n.target||n.srcElement}):t.sendFormData({form:n.target||n.srcElement})};R.unbind(n,"change",i),R.unbind(n,"submit",a),R.bind(n,"change",i),R.bind(n,"submit",a)}},sendRequest:function(e,t,n){if(M.enabled()&&this.url&&e.match(/^(pageview|form|link|event|destroy)$/)){var i=this.getProperties(t,e),a="pageview"===e?"jsonp":null;L({type:n||"GET",url:this.full_url,dataType:a,data:i})}},sendFormData:function(e){if(_(e)&&e.form&&e.form.elements){var t=e.form;this.formTimer&&(clearTimeout(this.formTimer),this.formTimer=!1),e.form=null,e.formID||(e.formID=t.getAttribute("data-cbe-form-id")),e.formTitle||(e.formTitle=t.getAttribute("id")),e.formPage||(e.formPage=t.getAttribute("action")),e.formData||(e.formData=N(t.elements)),e.formData&&this.sendRequest("form",e,"get"!==t.method?"POST":"GET")}},sendComplete:function(e){try{var t=e.content||0,n=e.prid||0,i=e.hid||0,a=e.tid||0;this.tracked=!0,this.data.hid=i,this.data.prid=n,this.data.tid=a,e.prid&&this.setProspectId(e.prid),e.vid!==this.data.vid&&this.setVisitorId(e.vid),e.sessid!==this.data.sessid&&this.setSessionId(e.sessid),this.track_links&&this.trackLinks(),this.track_forms&&this.trackForms(),t&&this.getContent(t)}catch(o){this.handleErrors(o,"sendComplete")}},send:function(){var e=this;if(arguments.length){var t,n,i;"string"==typeof arguments[0]?(t=arguments[0],n=[].slice.call(arguments,1)):(t=arguments[0]&&arguments[0][o],n=arguments),t&&(i=c(s[t]||[],n),"complete"===t&&n.length?this.sendComplete(i):"form"===t?this.sendFormData(i):"destroy"===t?this.destroy():"content"===t?this.content&&this.content.processDynamicContent(i):this.tracked?this.sendRequest(t,i):setTimeout(function(){e.sendRequest(t,i)},20))}},destroy:function(){this.data={},M.destroy("_capid","/",this.cookie_domain),M.destroy("_capsess","/",this.cookie_domain),this.sendRequest("destroy",{})}};var O=function(){O.fire.apply(O,[arguments])};O.settings={},O.tracker={},O.sort=function(e){var t={},n=/^(?:(\w+)\.)?(?:(\w+):)?(\w+)$/,i=e[1]&&e[1].name?e[1].name:null,a=n.exec(e[0]);return null!==a&&4===a.length&&(t.queue=i?i:a[1]||"d",t.command=a[3],t.args=[].slice.call(e,1)),t},O.sortArgs=function(e){for(var t=[],n=0;n<arguments.length;n++)t.push(O.sort(arguments[n]));return t},O.fire=function(){var e=O.sortArgs.apply(O,arguments);for(O.f=[];0<e.length;e.shift())O.callMethod(e[0])},O.callMethod=function(e){var t=O.tracker[e.queue];"create"===e.command?O.create.apply(O,e.args):"setSiteId"===e.command?O.set.apply(O,["siteId"].concat(e.args)):"setTrackerUrl"===e.command?O.set.apply(O,["trackingUrl"].concat(e.args)):t&&("trackPageView"===e.command?t.send.apply(t,["pageview"].concat(e.args)):"log"===e.command?t.send.apply(t,e.args):b(t[e.command])&&t[e.command].apply(t,e.args))},O.set=function(e,t){O.settings[e]=t,O.settings.siteId&&O.settings.trackingUrl&&O.create.apply(O,[O.settings]);
},O.create=function(){var e=c(r,[].slice.call(arguments));e.name=e.name?e.name:"d";var t=e.name;return O.tracker[t]?O.tracker[t]:(O.tracker[t]=new q(e),O.tracker[t])},O.destroy=function(){var e=O.tracker.d;return e?(O.tracker=null,e.destroy.apply(e,arguments)):null},O.track=function(){var e,n=i[t];return n&&n.loaded||(O.loaded=!0,e=i[t]=O,n=k(n)?n&&n:n&&n.q,d("log",e,e.send),d("push",e,e.send),k(n)&&O.fire.apply(O,n)),!0},function(){var e,t=!1,n=O.track;m(n)||(e=function(){!t&&m(n)&&(t=!0,R.unbind(a,"visibilitychange",e,!1))},R.bind(a,"visibilitychange",e))}()}(window);